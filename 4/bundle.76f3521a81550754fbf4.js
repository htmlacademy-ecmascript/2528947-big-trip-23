(()=>{"use strict";const t=[{id:"1",description:"Chamonix, is a beautiful city, a true asian pearl, with crowded streets.",name:"Moscow",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]},{id:"2",description:"Chamonix, is a beautiful city, a true asian pearl, with crowded streets.",name:"New York",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]},{id:"3",description:"Chamonix, is a beautiful city, a true asian pearl, with crowded streets.",name:"Chamonix",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]}],e=[{type:"taxi",ObjOffers:[{id:"1",title:"VIP Place",price:30},{id:"1",title:"Taxi to the hotel",price:40},{id:"1",title:"Breakfast at the hotel",price:120},{id:"1",title:"two beds in the room",price:20}]},{type:"train",ObjOffers:[{id:"2",title:"Taxi to the hotel",price:100}]},{type:"bus",ObjOffers:[{id:"3",title:"Upgrade to a business class",price:50},{id:"1",title:"Taxi to the hotel",price:40},{id:"1",title:"Breakfast at the hotel",price:120},{id:"1",title:"two beds in the room",price:20}]}],n=[{id:"1",basePrice:"10",dateFrom:"2019-07-10T22:55:56.845Z",dateTo:"2019-07-11T11:22:13.375Z",destination:"1",isFavorite:!1,offers:["b4c3e4e6-9053-42ce-b747-e281314baa31"],type:"taxi"},{id:"2",basePrice:"250",dateFrom:"2019-07-10T22:55:56.845Z",dateTo:"2019-07-11T11:22:13.375Z",destination:"2",isFavorite:!1,offers:["b4c3e4e6-9053-42ce-b747-e281314baa32"],type:"bus"},{id:"3",basePrice:"250",dateFrom:"2019-07-10T22:55:56.845Z",dateTo:"2019-07-11T11:22:13.375Z",destination:"3",isFavorite:!1,offers:["b4c3e4e6-9053-42ce-b747-e281314baa33"],type:"flight"}];function i(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function s(t,e,n="beforeend"){e.insertAdjacentElement(n,t.getElement())}class a{getTemplate(){return'<section class="DrawPoint"></section>'}getElement(){return this.element||(this.element=i(this.getTemplate())),this.element}removeElement(){this.element=null}}class o{constructor(t,e){this.offers=t,this.points=e}getTemplate(){return function(t,e){return`<section class="event__section  event__section--offers">\n\t\t\t\t\t\t<h3 class="event__section-title  event__section-title--offers">Offers</h3>\n\t\t\t\t\t\t<div class="event__available-offers">\n\t\t\t\t\t\t\t${t.find((t=>t.type===e.type)).ObjOffers.map((t=>(t=>`<div class="event__offer-selector">\n\t<input class="event__offer-checkbox  visually-hidden" id="event-offer-luggage-1" type="checkbox" name="event-offer-luggage" checked>\n\t<label class="event__offer-label" for="event-offer-luggage-1">\n\t\t<span class="event__offer-title">${t.title}</span>\n\t\t&plus;&euro;&nbsp;\n\t\t<span class="event__offer-price">${t.price}</span>\n\t</label>\n</div>`)(t))).join("")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>`}(this.offers,this.points)}getElement(){return this.element||(this.element=i(this.getTemplate())),this.element}removeElement(){this.element=null}}class l{constructor(t,e,n){this.offers=t,this.destinations=e,this.point=n}getTemplate(){return function(t,e,n){const{description:i,pictures:s}=e[1],a=t.map((t=>(t=>`<div class="event__type-item">\n<input id="event-type-${t.type}-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value=${t.type}>\n<label class="event__type-label  event__type-label--${t.type}" for="event-type-${t.type}-1">${t.type}</label>\n</div>`)(t))).join(""),l=e.map((t=>(t=>`<option value=${t.name}></option>`)(t))).join("");return`<section class="trip-events">\n\t<h2 class="visually-hidden">Trip events</h2>\n\t\t\t<form class="event event--edit" action="#" method="post">\n\t\t\t\t<header class="event__header">\n\t\t\t\t\t<div class="event__type-wrapper">\n\t\t\t\t\t\t<label class="event__type  event__type-btn" for="event-type-toggle-1">\n\t\t\t\t\t\t\t<span class="visually-hidden">Choose event type</span>\n\t\t\t\t\t\t\t<img class="event__type-icon" width="17" height="17" src="img/icons/${n.type}.png" alt="Event type icon">\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n\n\t\t\t\t\t\t<div class="event__type-list">\n\t\t\t\t\t\t\t<fieldset class="event__type-group">\n\t\t\t\t\t\t\t\t<legend class="visually-hidden">Event type</legend>\n\t\t\t\t\t\t\t\t${a}\n\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="event__field-group  event__field-group--destination">\n\t\t\t\t\t\t<label class="event__label  event__type-output" for="event-destination-1">\n\t\t\t\t\t\t\t${n.type}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input class="event__input  event__input--destination" id="event-destination-1" type="text" name="event-destination" value="" list="destination-list-1">\n\t\t\t\t\t\t<datalist id="destination-list-1">\n\t\t\t\t\t\t${l}\n\t\t\t\t\t\t</datalist>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n\t\t\t\t\t<button class="event__reset-btn" type="reset">${n.id?"Delete":"Cansel"}</button>\n\t\t\t\t</header>\n\t\t\t\t${new o(t,n).getTemplate()}\n\t\t\t\t<section class="event__details">\n                  <section class="event__section  event__section--destination">\n                    <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n                    <p class="event__destination-description">${i}</p>\n\n                    <div class="event__photos-container">\n                      <div class="event__photos-tape">${s.map((t=>`<img class="event__photo" src="${t.src}" alt="${t.description}"></img>`))}\n                      </div>\n                    </div>\n                  </section>\n\t\t\t</form>\n\t\t</li>`}(this.offers,this.destinations,this.point)}getElement(){return this.element||(this.element=i(this.getTemplate())),this.element}removeElement(){this.element=null}}class r{constructor(t,e){this.point=t,this.destination=e}getTemplate(){return function(t,e){const{type:n,isFavorite:i}=t;return`<li class="trip-events__item">\n\t<div class="event">\n\t\t<time class="event__date" datetime="2019-03-18">MAR 18</time>\n\t\t<div class="event__type">\n\t\t\t<img\n\t\t\t\tclass="event__type-icon"\n\t\t\t\twidth="42"\n\t\t\t\theight="42"\n\t\t\t\tsrc="img/icons/${n}.png"\n\t\t\t\talt="Event type icon"\n\t\t\t/>\n\t\t</div>\n\t\t<h3 class="event__title">${n} ${e.find((e=>e.id===t.destination)).name}</h3>\n\t\t<div class="event__schedule">\n\t\t\t<p class="event__time">\n\t\t\t\t<time class="event__start-time" datetime="2019-03-18T12:25"\n\t\t\t\t\t>12:25</time\n\t\t\t\t>\n\t\t\t\t&mdash;\n\t\t\t\t<time class="event__end-time" datetime="2019-03-18T13:35"\n\t\t\t\t\t>13:35</time\n\t\t\t\t>\n\t\t\t</p>\n\t\t\t<p class="event__duration">01H 10M</p>\n\t\t</div>\n\t\t<p class="event__price">\n\t\t\t&euro;&nbsp;<span class="event__price-value"></span>\n\t\t</p>\n\t\t<h4 class="visually-hidden">Offers:</h4>\n\t\t<ul class="event__selected-offers">\n\t\t\t<li class="event__offer">\n\t\t\t\t<span class="event__offer-title">Add luggage</span>\n\t\t\t\t&plus;&euro;&nbsp;\n\t\t\t\t<span class="event__offer-price">50</span>\n\t\t\t</li>\n\t\t\t<li class="event__offer">\n\t\t\t\t<span class="event__offer-title">Switch to comfort</span>\n\t\t\t\t&plus;&euro;&nbsp;\n\t\t\t\t<span class="event__offer-price">80</span>\n\t\t\t</li>\n\t\t</ul>\n\t\t<button class="event__favorite-btn${i?"event__favorite-btn--active":""}" type="button">\n\t\t\t<span class="visually-hidden">Add to favorite</span>\n\t\t\t<svg\n\t\t\t\tclass="event__favorite-icon"\n\t\t\t\twidth="28"\n\t\t\t\theight="28"\n\t\t\t\tviewBox="0 0 28 28"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\td="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</button>\n\t\t<button class="event__rollup-btn" type="button">\n\t\t\t<span class="visually-hidden">Open event</span>\n\t\t</button>\n\t</div>\n\t</li>`}(this.point,this.destination)}getElement(){return this.element||(this.element=i(this.getTemplate())),this.element}removeElement(){this.element=null}}const c=["day","event","time","price","offer"].map((t=>(t=>`<div class="trip-sort__item  trip-sort__item--${t}">\n\t<input id="sort-${t}" class="trip-sort__input  visually-hidden" type="radio" name="trip-sort" value="sort-${t}" disabled>\n\t<label class="trip-sort__btn" for="sort-${t}">${t}</label>\n</div>`)(t))).join("");class p{getTemplate(){return this.offers,this.destinations,this.point,`<form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n\t ${c}\n</form>`}getElement(){return this.element||(this.element=i(this.getTemplate())),this.element}removeElement(){this.element=null}}const d=["taxi","bus","ship","drive","flight","check-in","sightseeing","restaurent"],v=document.querySelector(".trip-events"),h=new class{constructor(){this.Points=[],this.Destinations=[],this.offers=[]}init(){this.Points=n,this.Destinations=t,this.offers=e}getPoints(){return this.Points}getDestination(){return this.Destinations}getOffers(){return this.offers}};h.init();const _=new class{boardComponent=new a;constructor({boardContainer:t,pointModel:e}){this.boardContainer=t,this.pointModel=e}renderBoardComponent(){s(this.boardComponent,this.boardContainer)}renderFilter(){s(new p,this.boardContainer)}init(){const t=this.pointModel.getPoints(),e=this.pointModel.getDestination(),n=this.pointModel.getOffers();this.renderBoardComponent(),this.renderFilter(),s(new l(n,e,t[1]),this.boardContainer),s(new l([{basePrice:0,dateFrom:(new Date).toISOString,dateTo:(new Date).toISOString,destination:0,isFavorite:!1,ObjOffers:[],type:d[1]}],e,t[1]),this.boardContainer),t.forEach((t=>{s(new r(t,e),this.boardContainer)}))}}({boardContainer:v,pointModel:h});_.init()})();
//# sourceMappingURL=bundle.76f3521a81550754fbf4.js.map